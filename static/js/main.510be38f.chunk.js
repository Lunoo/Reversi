(this.webpackJsonpreverse=this.webpackJsonpreverse||[]).push([[0],[,,,,,,function(e,t,a){e.exports={wrapper:"Disk_wrapper__1qe-e",disk:"Disk_disk__ZzxAB",white:"Disk_white__21JwF",black:"Disk_black__kSe-k",front:"Disk_front__2jHMx",back:"Disk_back__1NR7I",side:"Disk_side__1RV_v",spoke:"Disk_spoke__D4k14"}},function(e,t,a){e.exports={userPanel:"UserPanel_userPanel__HC_aB",totalScoreBlock:"UserPanel_totalScoreBlock__Roy3U",totalScore:"UserPanel_totalScore__3fmfC",squareBlock:"UserPanel_squareBlock__1QBMJ"}},function(e,t,a){e.exports={square:"Square_square__1AiCK",withMark:"Square_withMark__3oTPS",validMove:"Square_validMove__2eHfV",mayBeCaptured:"Square_mayBeCaptured__3IWs9"}},,,function(e,t,a){e.exports={boardContainer:"Board_boardContainer__3ew5_",board:"Board_board__2vvwL",totalScore:"Board_totalScore__2IAP_",black:"Board_black__3K0FP"}},,,function(e,t,a){e.exports={header:"Header_header__2ONRg"}},function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(13),c=a.n(n),l=(a(20),a(1)),s=a(2),i=a(4),u=a(3),d=a(5),v=(a(21),a(14)),m=a.n(v),p=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("header",{className:m.a.header},"Reversi")}}]),t}(r.Component),k=a(10),y=a(9),h=a(11),f=a.n(h),_=a(8),b=a.n(_),E=a(6),N=a.n(E),C=function(e){var t=[N.a.wrapper,N.a[e.color]];return o.a.createElement("div",{className:t.join(" ")},o.a.createElement("div",{className:N.a.disk},o.a.createElement("div",{className:N.a.front}),o.a.createElement("div",{className:N.a.back}),o.a.createElement("div",{className:N.a.side},Object(k.a)(Array(32)).map((function(e,t){return o.a.createElement("div",{key:t,className:N.a.spoke})})))))},g=function(e){var t=[b.a.square];return e.isMarked&&t.push(b.a.withMark),e.isValidMove&&t.push(b.a.validMove),e.mayBeCaptured&&t.push(b.a.mayBeCaptured),o.a.createElement("div",{className:t.join(" "),onClick:e.clicked,onMouseOver:e.hover,onMouseLeave:e.blur},e.isNotEmpty&&o.a.createElement(C,{color:e.color}))},S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={currentPlayer:"black",squares:{33:{key:33,isNotEmpty:!0,color:"white",mayBeCaptured:!1},44:{key:44,isNotEmpty:!0,color:"white",mayBeCaptured:!1},34:{key:34,isNotEmpty:!0,color:"black",mayBeCaptured:!1},43:{key:43,isNotEmpty:!0,color:"black",mayBeCaptured:!1}},validMoves:[32,23,54,45]},a.changeTotalScore=function(e){var t=Object.values(e),a=t.length,r=t.reduce((function(e,t){return"black"===t.color?e+1:e}),0);return{black:r,white:a-r}},a.copyBoardState=function(e){var t=Object(y.a)({},e);return Object.values(t).forEach((function(e){t[e.key]=Object(y.a)({},e)})),t},a.isSquareNotEmpty=function(e){var t;return!!(null===(t=a.state.squares[e])||void 0===t?void 0:t.isNotEmpty)},a.getAllValidMoves=function(e,t){for(var r=[],o=0;o<8;o++)for(var n=0;n<8;n++){var c=a.getKey(n,o);if(!a.isSquareNotEmpty(c)){var l=a.getNextPlayer(t);a.getAllCapturedDisksWithColor(e,c,l).length>0&&r.push(c)}}return r},a.getAllCapturedDisksWithColor=function(e,t,r){var o=a.getAllNeighborsWithColor(e,t,r),n=[];return o.forEach((function(a){for(var r=[],o=a.key-t,c=a;c&&c.color===a.color;)r.push(Object(y.a)({},c)),c=e[c.key+o];c&&(n=[].concat(Object(k.a)(n),r))})),n},a.getAllNeighborsWithColor=function(e,t,r){for(var o=[],n=-1;n<=1;n++)for(var c=-1;c<=1;c++){var l=e[t+a.getKey(c,n)];l&&l.key!==t&&l.color===r&&o.push(Object(y.a)({},l))}return o},a.getKey=function(e,t){return 10*e+t},a.getNextPlayer=function(e){return"black"===e?"white":"black"},a.showCapturedDisks=function(e){if(!a.isSquareNotEmpty(e)){var t=a.copyBoardState(a.state.squares),r=a.getNextPlayer(a.state.currentPlayer),o=a.getAllCapturedDisksWithColor(t,e,r);o.length&&(o.forEach((function(e){t[e.key].mayBeCaptured=!0})),a.setState({squares:t}))}},a.hideCapturedDisks=function(){var e=a.copyBoardState(a.state.squares);Object.values(e).forEach((function(e){e.mayBeCaptured=!1})),a.setState({squares:e})},a.squareClicked=function(e){if(a.state.validMoves.includes(e)){var t=a.getNextPlayer(a.state.currentPlayer),r=a.copyBoardState(a.state.squares),o=a.getAllCapturedDisksWithColor(r,e,t);r[e]={key:e,isNotEmpty:!0,color:a.state.currentPlayer},o.forEach((function(e){r[e.key].color=a.state.currentPlayer,r[e.key].mayBeCaptured=!1}));var n=a.getAllValidMoves(r,t);n.length||(t=a.getNextPlayer(t),(n=a.getAllValidMoves(r,t)).length||(t=null));var c=a.changeTotalScore(r);a.props.setTotalScore(c),a.setState({currentPlayer:t,squares:r,validMoves:n})}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){for(var e=this,t=[],a=0;a<8;a++)for(var r=function(r){var n=e.getKey(r,a),c=e.state.squares[n];t.push(o.a.createElement(g,{isMarked:[2,6].includes(r)&&[2,6].includes(a),key:n,isValidMove:e.state.validMoves.includes(n)?e.state.currentPlayer:null,isNotEmpty:null===c||void 0===c?void 0:c.isNotEmpty,mayBeCaptured:null===c||void 0===c?void 0:c.mayBeCaptured,color:null===c||void 0===c?void 0:c.color,hover:function(){return e.showCapturedDisks(n)},blur:function(){return e.hideCapturedDisks(n)},clicked:function(){return e.squareClicked(n)}}))},n=0;n<8;n++)r(n);return o.a.createElement("div",{className:f.a.boardContainer},o.a.createElement("div",{className:f.a.board,"data-player":this.state.currentPlayer},t))}}]),t}(r.Component),B=a(7),j=a.n(B),O=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:j.a.userPanel},o.a.createElement("div",{className:j.a.playerBlock}),o.a.createElement("div",{className:j.a.totalScoreBlock},o.a.createElement("div",{className:j.a.totalScore},o.a.createElement("div",{className:j.a.squareBlock},o.a.createElement(g,{isNotEmpty:!0,color:"black"}),this.props.totalScore.black),o.a.createElement("div",{className:j.a.squareBlock},o.a.createElement(g,{isNotEmpty:!0,color:"white"}),this.props.totalScore.white))),o.a.createElement("div",{className:j.a.playerBlock}))}}]),t}(r.Component),w=["blue","green"],q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={totalScore:{black:2,white:2}},a.getRandomItemFromArray=function(e){return"green"},a.setTotalScore=function(e){a.setState({totalScore:e})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return document.body.classList.add(this.getRandomItemFromArray(w)),o.a.createElement("div",{className:"app"},o.a.createElement(p,null),o.a.createElement(S,{setTotalScore:this.setTotalScore}),o.a.createElement(O,{totalScore:this.state.totalScore}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[15,1,2]]]);
//# sourceMappingURL=main.510be38f.chunk.js.map